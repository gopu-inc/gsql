
<!DOCTYPE html>
<html lang="fr" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover">
    <title>GSQL Database - Une interface Python pour SQLite</title>
    
    <meta name="theme-color" content="#4a6fa5">
    <meta name="description" content="GSQL : une surcouche Python puissante et étendue pour SQLite, ajoutant un shell interactif, un cache intelligent et des outils de productivité.">
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024'><rect width='1024' height='1024' fill='%234a6fa5'/><text x='512' y='540' font-family='Arial' font-size='400' text-anchor='middle' fill='white'>G</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    
    <style>
        /* Styles CSS optimisés */
        :root {
            --md-primary: #4a6fa5;
            --md-surface: #FFFFFF;
            --md-background: #F8F9FA;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--md-background);
            color: #333;
            padding-top: 60px;
        }
        .section {
            padding: 2rem 0;
        }
        .status-beta {
            background: linear-gradient(135deg, #ff9500, #ffcc00);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }
        .code-block {
            background: #1a1a1a;
            border-radius: 10px;
            overflow: hidden;
            margin: 1.5rem 0;
        }
        .code-header {
            background: #2d2d2d;
            padding: 0.75rem 1rem;
            color: #ccc;
            font-size: 0.9rem;
        }
        .alert-transparent {
            background: rgba(74, 111, 165, 0.1);
            border-left: 4px solid var(--md-primary);
        }
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--md-primary);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">
                <span style="color: var(--md-primary);">G</span>SQL
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#home">Accueil</a></li>
                    <li class="nav-item"><a class="nav-link" href="#etat">État</a></li>
                    <li class="nav-item"><a class="nav-link" href="#utilisation">Utilisation</a></li>
                    <li class="nav-item"><a class="nav-link" href="#faq">FAQ</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://github.com/gopu-inc/gsql" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="container">
        <!-- Section Hero -->
        <section id="home" class="section">
            <div class="text-center mb-5">
                <span class="status-beta">BÊTA ACTIVE - EN DÉVELOPPEMENT</span>
                <h1 class="display-5 fw-bold mb-3" style="color: var(--md-primary);">GSQL Database</h1>
                <p class="lead mx-auto" style="max-width: 700px;">
                    <strong>GSQL est une surcouche Python puissante et étendue pour SQLite.</strong><br>
                    Il ajoute un shell interactif, un cache intelligent, des commandes spéciales et des outils de productivité à la robustesse de SQLite.
                </p>
                <div class="mt-4">
                    <a href="#utilisation" class="btn btn-lg btn-primary me-2">Démarrer</a>
                    <a href="https://github.com/gopu-inc/gsql" target="_blank" class="btn btn-lg btn-outline-primary">
                        <i class="fab fa-github"></i> Code Source
                    </a>
                </div>
            </div>
            <!-- Badges -->
            <div class="text-center my-4">
                [![PyPI Version](https://img.shields.io/pypi/v/gsql?style=flat-square&logo=pypi&color=006dad)](https://pypi.org/project/gsql/)
                [![Conda Version](https://img.shields.io/conda/v/gopu-inc/gsql?logo=anaconda&color=44a833&style=flat-square)](https://anaconda.org/gopu-inc/gsql)
                [![Downloads](https://static.pepy.tech/personalized-badge/gsql?period=total&units=international_system&left_color=black&right_color=blue&left_text=Downloads)](https://pepy.tech/project/gsql)
                [![License](https://img.shields.io/github/license/gopu-inc/gsql?style=flat-square&logo=opensourceinitiative&color=6cc24a)](LICENSE)
            </div>
        </section>

        <!-- État Transparent du Projet -->
        <section id="etat" class="section">
            <h2 class="mb-4"><i class="fas fa-info-circle text-primary me-2"></i>État du Projet & Transparence</h2>
            <div class="row">
                <div class="col-md-8">
                    <div class="alert alert-transparent" role="alert">
                        <h5 class="alert-heading">Important à Savoir Avant d'Utiliser GSQL</h5>
                        <p class="mb-0">GSQL est en développement actif. Il n'est <strong>pas encore recommandé pour une utilisation en production critique</strong>. La communauté travaille à le stabiliser.</p>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-md-6 mb-3">
                    <div class="card h-100 border-success">
                        <div class="card-body">
                            <h5 class="card-title text-success"><i class="fas fa-check-circle me-2"></i>Ce qui est Stable</h5>
                            <ul class="mb-0">
                                <li><strong>Shell Interactif</strong> avec auto-complétion et historique.</li>
                                <li><strong>Cache Intelligent (LRU)</strong> pour des requêtes plus rapides.</li>
                                <li><strong>Commandes Spéciales</strong> (<code>.tables</code>, <code>STATS</code>, <code>VACUUM</code>).</li>
                                <li><strong>Toutes les fonctionnalités SQLite</strong> via <code>db.execute()</code>.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="card h-100 border-warning">
                        <div class="card-body">
                            <h5 class="card-title text-warning"><i class="fas fa-exclamation-triangle me-2"></i>Bugs & Limitations Connus</h5>
                            <ul class="mb-0">
                                <li><strong>API Transactionnelle</strong> : <code>db.begin_transaction()</code> a des bugs. <em>Workaround : utilisez les commandes SQL brutes.</em></li>
                                <li><strong>Parsing des guillemets</strong> : peut être fragile dans le shell.</li>
                                <li><strong>Modules NLP & Stockage alternatif</strong> : expérimentaux et instables.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Utilisation & Intégration -->
        <section id="utilisation" class="section">
            <h2 class="mb-4"><i class="fas fa-rocket text-primary me-2"></i>Installation & Utilisation Rapide</h2>
            <p>Voici comment installer et <strong>intégrer GSQL correctement</strong> dans vos projets.</p>

            <div class="row mt-4">
                <div class="col-lg-4 mb-4">
                    <div class="text-center p-4 h-100 border rounded bg-white">
                        <div class="feature-icon"><i class="fas fa-terminal"></i></div>
                        <h5>1. Shell Interactif</h5>
                        <p>Le moyen le plus simple de tester GSQL.</p>
                        <div class="code-block">
                            <div class="code-header">Terminal</div>
                            <pre><code class="language-bash"># Installez GSQL
pip install gsql

# Lancez le shell
gsql
# gsql> .tables
# gsql> SELECT * FROM sqlite_master;</code></pre>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="text-center p-4 h-100 border rounded bg-white">
                        <div class="feature-icon"><i class="fas fa-code"></i></div>
                        <h5>2. Dans un Script Python</h5>
                        <p>Intégration basique avec SQLite.</p>
                        <div class="code-block">
                            <div class="code-header">script.py</div>
                            <pre><code class="language-python">from gsql.database import Database
# Initialisation
db = Database(db_path=":memory:")
# Exécuter une requête
result = db.execute("""
    CREATE TABLE users (id INT, name TEXT)
""")
print("Table créée")</code></pre>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="text-center p-4 h-100 border rounded bg-white">
                        <div class="feature-icon"><i class="fas fa-exchange-alt"></i></div>
                        <h5>3. Transactions (Workaround)</h5>
                        <p>Utilisez les commandes SQL natives.</p>
                        <div class="code-block">
                            <div class="code-header">transaction.py</div>
<pre><code class="language-python"># ⚠️ WORKAROUND pour le bug des transactions
# N'utilisez PAS db.begin_transaction()
db.execute("BEGIN IMMEDIATE TRANSACTION")
try:
    db.execute("UPDATE compte SET solde = solde - 100")
    db.execute("COMMIT") # Valider
except Exception as e:
    db.execute("ROLLBACK") # Annuler
    print(f"Erreur : {e}")</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <h4 class="mt-5 mb-3">Exemple Complet d'Intégration</h4>
            <p>Un exemple concret d'utilisation de GSQL pour gérer une base de données simple.</p>
            <div class="code-block">
                <div class="code-header">exemple_complet.py</div>
                <pre><code class="language-python">"""
Exemple d'intégration de GSQL avec les bonnes pratiques.
"""
from gsql.database import Database

def main():
    # 1. INITIALISATION
    # Pour un fichier : db_path="ma_base.db"
    db = Database(db_path=":memory:", enable_wal=True)

    # 2. CRÉATION DU SCHÉMA
    db.execute("""
        CREATE TABLE IF NOT EXISTS produits (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            nom TEXT NOT NULL,
            prix REAL CHECK(prix >= 0),
            stock INTEGER DEFAULT 0
        )
    """)

    # 3. INSERTION DE DONNÉES (toujours avec paramètres)
    produits_a_ajouter = [
        ("Laptop", 999.99, 10),
        ("Souris", 29.99, 50),
    ]
    for nom, prix, stock in produits_a_ajouter:
        db.execute(
            "INSERT INTO produits (nom, prix, stock) VALUES (?, ?, ?)",
            [nom, prix, stock]
        )

    # 4. REQUÊTAGE AVEC CACHE (pour les SELECT répétitifs)
    result = db.execute(
        "SELECT * FROM produits WHERE stock > ?",
        params=[0],
        use_cache=True # ✅ Active le cache
    )
    print(f"{result['count']} produit(s) en stock.")

    # 5. UTILISATION D'UNE COMMANDE SPÉCIALE GSQL
    stats = db.execute("STATS")
    print(f"Cache hit ratio: {stats.get('database', {}).get('cache_hit_ratio', 0):.1%}")

    # 6. FERMETURE PROPRE
    db.close()

if __name__ == "__main__":
    main()</code></pre>
            </div>
        </section>

        <!-- FAQ Complète -->
        <section id="faq" class="section">
            <h2 class="mb-4"><i class="fas fa-question-circle text-primary me-2"></i>FAQ Complète & Dépannage</h2>
            <p>Réponses aux questions les plus fréquentes sur l'installation, l'utilisation et le dépannage de GSQL.</p>

            <div class="accordion" id="faqAccordion">
                <!-- FAQ 1 -->
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                            <strong>Q1 :</strong> L'installation avec <code>pip install gsql</code> échoue. Que faire ?
                        </button>
                    </h3>
                    <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            <p>Assurez-vous d'avoir une version récente de <code>pip</code> et de <code>setuptools</code> :</p>
                            <pre><code class="language-bash">python -m pip install --upgrade pip setuptools wheel
# Réessayez ensuite
pip install gsql</code></pre>
                            <p class="mt-2 mb-0"><strong>Problème spécifique à Windows ?</strong> Vous pourriez avoir besoin des <a href="https://visualstudio.microsoft.com/visual-cpp-build-tools/" target="_blank">Outils de génération C++ de Microsoft</a> pour compiler certaines dépendances.</p>
                        </div>
                    </div>
                </div>
                <!-- FAQ 2 -->
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                            <strong>Q2 :</strong> <code>db.begin_transaction()</code> ne marche pas. Comment gérer les transactions ?
                        </button>
                    </h3>
                    <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            <p>C'est un <strong>bug connu</strong>. L'API transactionnelle native de GSQL est actuellement défectueuse.</p>
                            <p><strong>Solution (Workaround) :</strong> Utilisez <strong>directement les commandes SQL de transaction</strong> via la méthode <code>db.execute()</code>.</p>
                            <div class="code-block">
                                <pre><code class="language-python"># ❌ NE PAS FAIRE (buggé)
# tid = db.begin_transaction()
# db.commit_transaction(tid)

# ✅ À FAIRE (workaround fonctionnel)
db.execute("BEGIN IMMEDIATE TRANSACTION")
try:
    # Vos opérations SQL...
    db.execute("UPDATE table1 SET col = 'val'")
    db.execute("INSERT INTO table2 VALUES (1, 2)")
    db.execute("COMMIT") # Validation
except Exception as e:
    db.execute("ROLLBACK") # Annulation en cas d'erreur
    print(f"Transaction annulée : {e}")</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- FAQ 3 -->
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                            <strong>Q3 :</strong> Le shell interactif plante ou ne parse pas correctement ma requête.
                        </button>
                    </h3>
                    <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            <p>Le parser du shell peut être fragile avec certains caractères (guillemets imbriqués, caractères spéciaux).</p>
                            <p><strong>Solutions :</strong></p>
                            <ul>
                                <li><strong>Évitez les guillemets complexes</strong> dans le shell pour l'instant. Utilisez un script Python pour les requêtes élaborées.</li>
                                <li>Écrivez votre requête SQL dans un fichier <code>.sql</code> et utilisez la redirection : <code>gsql < ma_requete.sql</code> (si supporté).</li>
                                <li>Assurez-vous que votre requête est syntaxiquement valide pour SQLite.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- FAQ 4 -->
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                            <strong>Q4 :</strong> Puis-je utiliser GSQL avec mon fichier de base de données SQLite existant ?
                        </button>
                    </h3>
                    <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            <p><strong>Oui, absolument.</strong> C'est l'un des points forts de GSQL.</p>
                            <p>Il suffit de pointer le paramètre <code>db_path</code> vers votre fichier <code>.db</code> existant lors de la création de l'instance <code>Database</code>.</p>
                            <div class="code-block">
                                <pre><code class="language-python">from gsql.database import Database

# Ouvrez votre base SQLite existante
db = Database(db_path="/chemin/vers/votre/base_de_donnees.db")

# Utilisez GSQL pour interagir avec elle
result = db.execute("SELECT * FROM votre_table")
# ...</code></pre>
                            </div>
                            <p class="mb-0"><strong>Note :</strong> GSQL ne modifiera pas la structure de votre fichier. Il utilise simplement SQLite comme moteur de stockage.</p>
                        </div>
                    </div>
                </div>
                <!-- FAQ 5 -->
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                            <strong>Q5 :</strong> Comment contribuer au projet GSQL ?
                        </button>
                    </h3>
                    <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            <p>Les contributions sont les bienvenues ! Voici comment procéder :</p>
                            <ol>
                                <li><strong>Signaler un bug</strong> : Sur <a href="https://github.com/gopu-inc/gsql/issues" target="_blank">GitHub Issues</a>, décrivez le problème avec un <strong>exemple de code minimal reproductible</strong>, la version de GSQL et de Python.</li>
                                <li><strong>Proposer une amélioration</strong> : Ouvrez une "issue" pour discuter de la nouvelle fonctionnalité avant de coder.</li>
                                <li><strong>Soumettre un correctif</strong> :
                                    <pre><code class="language-bash"># 1. Forkez le dépôt sur GitHub
# 2. Clonez votre fork
git clone https://github.com/votre-username/gsql.git
# 3. Créez une branche
git checkout -b fix/nom-du-correctif
# 4. Codez, testez, poussez
# 5. Ouvrez une Pull Request</code></pre>
                                </li>
                            </ol>
                            <p><strong>Priorités actuelles :</strong> Corriger l'API des transactions, stabiliser le parser du shell, améliorer la documentation.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ressources & Conclusion -->
        <section class="section">
            <div class="text-center p-5 border-top">
                <h3 class="mb-3">Prêt à essayer GSQL ?</h3>
                <p class="mb-4">Rejoignez la communauté et contribuez à façonner l'avenir de cet outil.</p>
                <a href="https://github.com/gopu-inc/gsql" target="_blank" class="btn btn-primary btn-lg me-2">
                    <i class="fab fa-github"></i> Voir sur GitHub
                </a>
                <a href="#utilisation" class="btn btn-outline-primary btn-lg">Voir les Exemples de Code</a>
                <p class="small text-muted mt-4">GSQL Database © 2024 Gopu Inc. | Interface Python moderne pour SQLite.</p>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script>
        // Highlight tous les blocs de code au chargement
        document.addEventListener('DOMContentLoaded', (event) => {
            Prism.highlightAll();
        });
    </script>
</body>
</html>
