package:
  name: gsql
  version: 3.9.7

source:
  path: ..

build:
  number: 1
  noarch: python
  script: python -m pip install . --no-deps -vv

requirements:
  host:
    - python >=3.8
    - pip
    - setuptools
  run:
    - python >=3.8
    - click >=8.0.0
    - colorama >=0.4.4
    - pandas >=1.3.0
    - numpy >=1.21.0
    - nltk >=3.6.0

about:
  home: https://github.com/gopu-inc/gsql
  license: MIT
  summary: Complete SQL Database System in Python with AI Integration
  description: |
    <img width="128" height="128" alt="GSQL Logo" src="https://github.com/user-attachments/assets/9cf47e59-c2f3-49d9-a7c2-82771d5363bd" />

    > **D√©velopp√© par gopu.inc | Statut : B√™ta Active - En d√©veloppement**

    [![PyPI Version](https://img.shields.io/pypi/v/gsql?style=flat-square&logo=pypi&color=006dad)](https://pypi.org/project/gsql/)
    [![Python Versions](https://img.shields.io/pypi/pyversions/gsql?style=flat-square&logo=python&color=3776ab)](https://pypi.org/project/gsql/)
    [![Conda Version](https://img.shields.io/conda/v/gopu-inc/gsql?logo=anaconda&color=44a833&style=flat-square)](https://anaconda.org/gopu-inc/gsql)
    [![Downloads](https://static.pepy.tech/personalized-badge/gsql?period=total&units=international_system&left_color=black&right_color=blue&left_text=PyPI%20Downloads)](https://pepy.tech/project/gsql)
    [![Docker Pulls](https://img.shields.io/docker/pulls/ceoseshell/gsql?style=flat-square&logo=docker&color=2496ed)](https://hub.docker.com/r/ceoseshell/gsql)
    [![License](https://img.shields.io/github/license/gopu-inc/gsql?style=flat-square&logo=opensourceinitiative&color=6cc24a)](LICENSE)

    **GSQL est un projet en d√©veloppement actif (version b√™ta).** Il n'est pas encore pr√™t pour une utilisation en production critique.

    **Ce que GSQL est VRAIMENT :**
    - ‚úÖ **Une surcouche Python puissante pour SQLite** avec un shell interactif, un cache et des outils de productivit√©.
    - ‚úÖ Un projet open-source qui √©volue rapidement gr√¢ce √† la communaut√©.

    **Bugs & Limitations Actuelles (√† conna√Ætre avant d'utiliser) :**
    - üî∏ **Transactions** : L'API transactionnelle native (`db.begin_transaction()`) a des bugs. **Il faut utiliser les commandes SQL brutes `BEGIN`/`COMMIT`** (un workaround est fourni ci-dessous).
    - üî∏ **Guillemets** : Certains caract√®res dans les cha√Ænes peuvent causer des probl√®mes de parsing dans le shell interactif.
    - üî∏ **Fonctionnalit√©s exp√©rimentales** : Les modules NLP (`gsql.nlp`) et les backends de stockage alternatifs (YAML, m√©moire) sont en prototype et non stabilis√©s.

    **Notre philosophie :** Apporter la productivit√© du Python et la clart√© d'une interface moderne √† la robustesse de SQLite.

    ```bash
    pip install gsql
    ```

    Via Conda (√† partir du canal gopu-inc)

    ```bash
    conda install -c gopu-inc gsql
    ```

    Depuis les sources (pour les contributeurs)

    ```bash
    git clone https://github.com/gopu-inc/gsql.git
    cd gsql
    pip install -e .
    ```

    Avec Docker

    ```bash
    docker pull ceoseshell/gsql:latest
    docker run -it ceoseshell/gsql --help
    ```

    üöÄ Utilisation en 30 secondes

    1. Lancer le Shell Interactif (CLI)

    C'est le moyen le plus simple de d√©couvrir GSQL.

    ```bash
    gsql
    ```

    2. Utilisation dans un Script Python

    Voici comment int√©grer GSQL correctement dans votre code aujourd'hui.

    ```python
    from gsql.database import Database

    db = Database(db_path=":memory:", enable_wal=True, auto_recovery=True)

    db.execute("""
        CREATE IF NOT EXISTS EXISTS users (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            username TEXT UNIQUE NOT NULL,
            email TEXT
        )
    """)

    db.execute(
        "INSERT INTO users (username, email) VALUES (?, ?)",
        ["jdoe", "john.doe@example.com"]
    )

    result = db.execute("SELECT * FROM users", use_cache=True)
    print(f"Trouv√© {result['count']} utilisateur(s).")
    for row in result['rows']:
        print(f"- {row['id']}: {row['username']}")

    try:
        db.execute("BEGIN IMMEDIATE TRANSACTION")

        db.execute("UPDATE accounts SET balance = balance - 100 WHERE id = 1")
        db.execute("UPDATE accounts SET balance = balance + 100 WHERE id = 2")

        db.execute("COMMIT")
        print("Virement effectu√© avec succ√®s.")

    except Exception as e:
        db.execute("ROLLBACK")
        print(f"√âchec du virement : {e}")

    stats = db.execute("STATS")  # R√©cup√®re des statistiques d'utilisation
    print(stats.get('message'))

    db.close()
    ```

    üõ†Ô∏è Fonctionnalit√©s Stables et Pr√™tes √† l'Emploi

    ‚úÖ Fonctionnalit√©s Principales Totalement Op√©rationnelles

    ¬∑ Shell Interactif : Auto-compl√©tion, historique, coloration syntaxique, affichage tabulaire.
    ¬∑ Cache Intelligent (LRU) : Acc√©l√®re les requ√™tes SELECT r√©p√©titives jusqu'√† 20x.
    ¬∑ Commande Sp√©ciales Int√©gr√©es :
      ```sql
      .tables                 -- Liste les tables
      .schema <table>         -- Montre la structure d'une table
      STATS;                  -- Affiche les stats de performance et de cache
      VACUUM;                 -- Optimise la base de donn√©es
      HELP;                   -- Affiche l'aide
      ```
    ¬∑ Support SQL Complet : Tout ce que SQLite supporte (SELECT, INSERT, JOIN, etc.) passe par GSQL.
    ¬∑ Gestion des Erreurs : Messages d'erreur d√©taill√©s avec suivi de pile.

    üîß Fonctionnalit√©s en D√©veloppement/Exp√©rimentales

    ¬∑ Module NLP (gsql.nlp) : Traduction du langage naturel en SQL. Instable.
    ¬∑ Autres Backends : Stockage YAML ou en m√©moire. Non recommand√© pour les donn√©es importantes.

    üìÅ Structure du Projet (Pour Contributeurs)

    ```
    gsql/
    ‚îú‚îÄ‚îÄ gsql/
    ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py              # Point d'entr√©e principal
    ‚îÇ   ‚îú‚îÄ‚îÄ database.py              # CLASSE PRINCIPALE `Database`
    ‚îÇ   ‚îú‚îÄ‚îÄ storage.py               # Abstraction du stockage (SQLite)
    ‚îÇ   ‚îú‚îÄ‚îÄ executor.py              # Ex√©cuteur et cache des requ√™tes
    ‚îÇ   ‚îú‚îÄ‚îÄ cli.py                   # Interface du Shell Interactif
    ‚îÇ   ‚îî‚îÄ‚îÄ exceptions.py            # Exceptions personnalis√©es
    ‚îú‚îÄ‚îÄ tests/                       # Suite de tests
    ‚îú‚îÄ‚îÄ meta.yaml                    # Recette de construction Conda
    ‚îú‚îÄ‚îÄ setup.py                     # Configuration pour pip
    ‚îú‚îÄ‚îÄ Dockerfile                   # Configuration pour le conteneur
    ‚îî‚îÄ‚îÄ README.md                    # Ce fichier
    ```

    Classe Principale : gsql.database.Database
    Point d'Entr√©e CLI : gsql.cli.main() (accessible via la commande gsql)

    üß™ Ex√©cuter les Tests et Contribuer

    Nous avons besoin de votre aide pour stabiliser le projet !

    ```bash
    git clone https://github.com/gopu-inc/gsql.git
    cd gsql
    pip install -e .[dev]  # Installe les d√©pendances de test

    pytest tests/ -v

    coverage run -m pytest tests/
    coverage report
    flake8 gsql/  # V√©rification du style PEP8
    ```

    Comment contribuer ?

    1. Signaler un bug : Ouvrez une issue sur GitHub en d√©crivant pr√©cis√©ment le probl√®me, la version de GSQL, et un exemple de code minimal pour le reproduire.
    2. Proposer une am√©lioration : Discutez-en d'abord dans une issue.
    3. Soumettre une correction (PR) : Fork, branche, code, tests, pull request.

    ‚ùì FAQ & D√©pannage

    Q : db.begin_transaction() ne marche pas, que faire ?
    R : C'est un bug connu. Utilisez toujours db.execute("BEGIN TRANSACTION") et db.execute("COMMIT") ou db.execute("ROLLBACK"). Voir l'exemple de code plus haut.

    Q : Le shell plante avec une erreur de parsing ?
    R : √âvitez les guillemets complexes ou les caract√®res sp√©ciaux dans les cha√Ænes en mode interactif pour l'instant. Utilisez un script Python pour les requ√™tes complexes.

    Q : Comment migrer de SQLite brut vers GSQL ?
    R : Pointez simplement le param√®tre db_path vers votre fichier .db SQLite existant. GSQL le lira directement.

    üìÑ Licence

    Ce projet est publi√© sous la licence MIT. Voir le fichier LICENSE pour plus de d√©tails.

    GSQL ¬© 2025 Gopu Inc. | Apportons une interface moderne √† SQLite.
  description_content_type: text/markdown
